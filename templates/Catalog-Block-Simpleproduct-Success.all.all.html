<script tal:condition="baseconfiguration/getActivatezoom" change:javascript="src 'modules.catalog.lib.js.jquery-jqzoom'"></script>
<script change:javascript="src 'modules.catalog.lib.js.productAdditionalVisualsManagement'"></script>

<tal:block tal:condition="displayConfig/showShareBlock" change:block="" module="sharethis" name="Sharepage" />

<ul change:errors="" />
<ul change:messages="" />

<div class="website-block">
	<!-- Product information -->
	<div class="column-33 margin-left float-right">
		<tal:block change:include="module 'catalog'; template 'Catalog-Inc-Mininavigation'; type 'html'; primaryshelf primaryshelf"/>
		
		<ul tal:condition="product/getPictogramCount" class="associated-pictograms">
			<li tal:repeat="pictogram product/getPictogramArray"><img change:media="document pictogram; format 'modules.catalog.frontoffice/pic35x35'" /></li>
		</ul>
		
		<h1 class="title" tal:content="product/getLabel" />
		<div class="product-ref"><strong change:translate="&modules.catalog.frontoffice.Detail-referenceLabel;" /> <span tal:replace="product/getCodeReference" /></div>
		                
		<img tal:condition="product/getBrand/getVisual" change:media="document product/getBrand/getVisual; format 'modules.catalog.frontoffice/brandrandompic'" />
		
		<form class="product-form" change:link="document product" method="post">
			<ol>
				<li>
					<input type="submit" name="catalogParam[addToList]" class="button" change:i18nattr="value &modules.catalog.frontoffice.Add-to-list; title &modules.catalog.frontoffice.title.Add-to-list;" />					
				</li>
				<li>				
					<fieldset>		
						<ol>
							<li>						
								<label for="product-quantity" change:translate="&modules.catalog.frontoffice.Detail-quantityLabel;" />
								<input class="textfield" id="product-quantity" type="text" size="3" name="catalogParam[quantity]" value="1" />
								<input type="hidden" tal:attributes="value product/getId" name="catalogParam[productId]" />
							</li>
						</ol>
					</fieldset>
				</li>
			</ol>
			
			<!-- DisponibilitÃ© -->
			<p tal:define="availability product/getAvailability" tal:condition="availability" class="normal availability" tal:content="availability" />
			
			<ul>
				<!-- Prix HT -->
				<li tal:condition="displayConfig/showPricesWithoutTax">
					<strong change:translate="&modules.catalog.frontoffice.PricehtLabel;" />
					<span class="priceht">				
						<tal:block tal:condition="defaultPrice/isDiscount">
							<del tal:content="defaultPrice/getFormattedOldValueWithoutTax" />
						</tal:block>
						<tal:block tal:replace="defaultPrice/getFormattedValueWithoutTax" />
					</span>
				</li>
		    	
				<!-- Prix TTC -->
				<li tal:condition="displayConfig/showPricesWithTax">
					<strong change:translate="&modules.catalog.frontoffice.PricettcLabel;" />
					<span class="pricettc">				
						<tal:block tal:condition="defaultPrice/isDiscount">
							<del tal:content="defaultPrice/getFormattedOldValueWithTax" />			
						</tal:block>
						<tal:block tal:replace="defaultPrice/getFormattedValueWithTax" />
					</span>
				</li>
			</ul>
			<small tal:condition="defaultPrice/getFormattedEcoTax">
					<tal:block change:translate="&modules.catalog.frontoffice.LabelEcoTaxe;" /> <tal:block change:translate="&modules.catalog.frontoffice.EcoTaxeLabel;" /><tal:block tal:replace="defaultPrice/getFormattedEcoTax"/> 
			</small>
			<!-- ajouter au panier -->
			<p class="buttons" tal:condition="php: product.canBeOrdered(shop)">
				<input type="submit" name="catalogParam[addToCart]" class="button buy" change:i18nattr="value &modules.catalog.frontoffice.LabelHrefAddToCart; title &modules.catalog.frontoffice.title.LabelHrefAddToCart;"></input>
			</p>
		</form>
		
	</div>
	<!-- End - Product information -->
	
	<!-- Product Pics -->
	<div class="column-66 margin-right product-pics" tal:define="visuals php: product.getAllVisuals(shop); uniqueId product/getId">
		<tal:block tal:repeat="imageMini visuals">
			<tal:block tal:define="global mainVisualBlockDOMId">mainVisualBlock_${uniqueId}-${imageMini/getId}</tal:block>				
			<tal:block tal:condition="not: repeat/imageMini/start"><tal:block tal:define="global style">display: none;</tal:block></tal:block>
			<div class="product-big" tal:attributes="id mainVisualBlockDOMId; style style">
				<tal:block tal:condition="baseconfiguration/getActivatezoom">
					<tal:block tal:define="global visualUrl php: MediaHelper::getPublicUrl(imageMini)"/>				
					<tal:block tal:define="global visualFormatedUrl php: MediaHelper::getPublicFormatedUrl(imageMini, 'modules.catalog.frontoffice/detailproduct')"/>				
					<img tal:attributes="src visualFormatedUrl; alt visualUrl" class="jqzoom image" />
				</tal:block>
				<tal:block tal:condition="not: baseconfiguration/getActivatezoom">
					<img change:media="document imageMini; format 'modules.catalog.frontoffice/detailproduct'"/>				
				</tal:block>
			</div>
		</tal:block>
	
		<div class="altpics">
			<ul class="product-altpics">
				<tal:block tal:repeat="visual visuals">
					<tal:block tal:define="global productVisualBlockDOMId">productVisualBlock_${uniqueId}-${visual/getId}</tal:block>
					<li tal:attributes="id productVisualBlockDOMId"><a href="#"><img change:media="document visual; format 'modules.catalog.frontoffice/pic80x80'"/></a></li>
				</tal:block>		
			</ul>
		</div>
	</div>
	<!-- End - Product Pics -->
</div>

<!-- Additionnal product information -->
<div class="row-100">
	<!-- Prix quantitatifs -->
	<div class="product-misc" tal:condition="php: thresholdPrices && (displayConfig['showPricesWithTax'] || displayConfig['showPricesWithoutTax'])">
		<ul>
			<li tal:repeat="thresholdPrice thresholdPrices">
				<tal:block tal:condition="thresholdPrice/isDiscount">
					<span change:translate="&modules.catalog.frontoffice.LabelQuantityLabel; threshold thresholdPrice/getThresholdMin" /> 
					<del change:i18nattr="title &modules.catalog.frontoffice.old-price;">
						<tal:block tal:condition="displayConfig/showPricesWithoutTax">
							<tal:block tal:replace="thresholdPrice/getFormattedOldValueWithoutTax" /> <tal:block change:translate="&modules.catalog.frontoffice.HT;" />
						</tal:block>
						<tal:block tal:condition="displayConfig/showPricesWithAndWithoutTax"> - </tal:block>
						<tal:block tal:condition="displayConfig/showPricesWithTax">
						 	<tal:block tal:replace="thresholdPrice/getFormattedOldValueWithTax" /> <tal:block change:translate="&modules.catalog.frontoffice.TTC;" />
						</tal:block>
					</del>						
					<br />
					<span class="hidden" change:translate="&modules.catalog.frontoffice.LabelQuantityLabel; threshold thresholdPrice/getThresholdMin" /> 
					<ins change:i18nattr="title &modules.catalog.frontoffice.new-price;" class="discount">
						<tal:block tal:condition="displayConfig/showPricesWithoutTax">
							<tal:block tal:replace="thresholdPrice/getFormattedValueWithoutTax" /> <tal:block change:translate="&modules.catalog.frontoffice.HT;" />
						</tal:block>
						<tal:block tal:condition="displayConfig/showPricesWithAndWithoutTax"> - </tal:block>
						<tal:block tal:condition="displayConfig/showPricesWithTax">
							<tal:block tal:replace="thresholdPrice/getFormattedValueWithTax" /> <tal:block change:translate="&modules.catalog.frontoffice.TTC;" />
						</tal:block>
					</ins>
				</tal:block>
						
				<tal:block tal:condition="not: thresholdPrice/isDiscount">
					<span change:translate="&modules.catalog.frontoffice.LabelQuantityLabel; threshold thresholdPrice/getThresholdMin" /> 
					<tal:block tal:condition="displayConfig/showPricesWithoutTax">
						<tal:block tal:replace="thresholdPrice/getFormattedValueWithoutTax" /> <tal:block change:translate="&modules.catalog.frontoffice.HT;" />
					</tal:block>
					<tal:block tal:condition="displayConfig/showPricesWithAndWithoutTax"> - </tal:block>
					<tal:block tal:condition="displayConfig/showPricesWithTax">
						<tal:block tal:replace="thresholdPrice/getFormattedValueWithTax" /> <tal:block change:translate="&modules.catalog.frontoffice.TTC;" />
					</tal:block>
				</tal:block>
			</li>
		</ul>
	</div>
	<div class="cleaner"></div>
	
	<div class="product-description" tal:condition="product/getDescription" tal:content="product/getDescription" />
</div>
<!-- End - Additionnal product information -->