<?xml version="1.0"?>
<actions extends="generic">
	<action name="createTopshelf">
		<parameter name="listWidget" />
		<body><![CDATA[this.createDocumentEditor('modules_catalog_topshelf', listWidget.getSelectedItems()[0].id);]]></body>
	</action>
	<action name="createShelf">
		<parameter name="listWidget" />
		<body><![CDATA[this.createDocumentEditor('modules_catalog_shelf', listWidget.getSelectedItems()[0].id);]]></body>
	</action>
	<action name="createSimpleproduct">
		<parameter name="listWidget" />
		<body><![CDATA[this.createDocumentEditor('modules_catalog_simpleproduct', listWidget.getSelectedItems()[0].id);]]></body>
	</action>
	<action name="createDeclinedproduct">
		<parameter name="listWidget" />
		<body><![CDATA[this.createDocumentEditor('modules_catalog_declinedproduct', listWidget.getSelectedItems()[0].id);]]></body>
	</action>
	<action name="createShop">
		<parameter name="listWidget" />
		<body><![CDATA[this.createDocumentEditor('modules_catalog_shop', listWidget.getSelectedItems()[0].id);]]></body>
	</action>
	<action name="createShippingfilter">
		<parameter name="listWidget" />
		<body><![CDATA[this.createDocumentEditor('modules_catalog_shippingfilter', listWidget.getSelectedItems()[0].id);]]></body>
	</action>
	<action name="createPaymentfilter">
		<parameter name="listWidget" />
		<body><![CDATA[this.createDocumentEditor('modules_catalog_paymentfilter', listWidget.getSelectedItems()[0].id);]]></body>
	</action>
	<action name="createPriceFromProduct">
		<parameter name="params" />
		<body><![CDATA[
			var productId = params[3];
			var shopId = params[4];
			var targetId = params[5];
			var editor = this.getDocumentEditor('modules_catalog_price');
			editor.setAttribute('shopId', shopId);
			editor.setAttribute('targetId', targetId);
			this.createDocumentEditor('modules_catalog_price', productId);
		]]></body>
	</action>
	<action name="createDeclinationFromProduct">
		<parameter name="params" />
		<body><![CDATA[
			var productId = params[3];
			var editor = this.getDocumentEditor('modules_catalog_declination');
			this.createDocumentEditor('modules_catalog_productdeclination', productId);
		]]></body>
	</action>
	<action name="openOrderChildren">
		<parameter name="listWidget" />
		<body><![CDATA[
			this.openOrderChildrenPanel(listWidget, null, ['modules_catalog/shelf', 'modules_catalog/topshelf', 
				'modules_catalog/simpleproduct', 'modules_catalog/declinedproduct', 'modules_catalog/shop',
				'modules_catalog/shopfolder']);
		]]></body>
	</action>
	
	<action name="compileProduct">
		<parameter name="listWidget" />
		<body><![CDATA[
			var document = listWidget.getSelectedItems()[0];
			this.executeJSON("CompileProduct", {cmpref: document.id, lang:this.getContextLang()});
		]]></body>
	</action>
	<action name="onCompileProductSuccess">
		<parameter name="listWidget" />
		<body><![CDATA[
			this.refreshMainViewDeck();
		]]></body>
	</action>
	
</actions>